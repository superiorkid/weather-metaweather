{% extends 'layout.html'%}

{% block content %}


  <section class="vh-100">
    <div class="container mt-3 py-5 h-100">
  
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-md-8 col-lg-6 col-xl-4">
  
          <!--<h3 class="mb-4 pb-2 fw-normal">Check the weather forecast</h3> -->
          <form action="/" method="post">
            {{form.csrf_token()}}
            <div class="input-group rounded mb-3">
              {{form.cities(class="form-control rounded")}}
              {% for error in form.cities.errors %}
              <span>{{error}}</span>
              {% endfor %}
              {{form.submit(class="btn btn-primary")}}
            </div>
          </form>
  
        </div>
      </div>
  
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-md-8 col-lg-6 col-xl-4">
  
          <div class="card" style="color: #4B515D; border-radius: 35px;">
            <div class="card-body p-4">
  
              <div class="d-flex">
                <h6 class="flex-grow-1">
                  {{ data[0]['title'] }}, {{ data[0]['parent']['title'] }}
                </h6>
                <h6 class="ml-auto"><b>Today</b> / {{ data[0]['consolidated_weather'][0]['applicable_date'] }}</h6>
              </div>
  
              <div class="d-flex flex-column text-center mt-5 mb-4">
                <h6 class="display-4 mb-0 font-weight-bold" style="color: #1C2331;"> {{ data[0]['consolidated_weather'][0]['the_temp']| int }}°C </h6>
                <span class="small" style="color: #868B94">{{ data[0]['consolidated_weather'][0]['weather_state_name']}}</span>
              </div>
  
              <div class="d-flex align-items-center">
                <div class="flex-grow-1" style="font-size: 1rem;">
                  <div><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                      class="bi bi-wind" viewBox="0 0 16 16">
                      <path
                        d="M12.5 2A2.5 2.5 0 0 0 10 4.5a.5.5 0 0 1-1 0A3.5 3.5 0 1 1 12.5 8H.5a.5.5 0 0 1 0-1h12a2.5 2.5 0 0 0 0-5zm-7 1a1 1 0 0 0-1 1 .5.5 0 0 1-1 0 2 2 0 1 1 2 2h-5a.5.5 0 0 1 0-1h5a1 1 0 0 0 0-2zM0 9.5A.5.5 0 0 1 .5 9h10.042a3 3 0 1 1-3 3 .5.5 0 0 1 1 0 2 2 0 1 0 2-2H.5a.5.5 0 0 1-.5-.5z" />
                    </svg><span class="ms-1"> <strong>{{ data[0]['consolidated_weather'][0]['wind_speed'] | int }} km/h </strong></span>
                  </div>
                  <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                      class="bi bi-moisture" viewBox="0 0 16 16">
                      <path
                        d="M13.5 0a.5.5 0 0 0 0 1H15v2.75h-.5a.5.5 0 0 0 0 1h.5V7.5h-1.5a.5.5 0 0 0 0 1H15v2.75h-.5a.5.5 0 0 0 0 1h.5V15h-1.5a.5.5 0 0 0 0 1h2a.5.5 0 0 0 .5-.5V.5a.5.5 0 0 0-.5-.5h-2zM7 1.5l.364-.343a.5.5 0 0 0-.728 0l-.002.002-.006.007-.022.023-.08.088a28.458 28.458 0 0 0-1.274 1.517c-.769.983-1.714 2.325-2.385 3.727C2.368 7.564 2 8.682 2 9.733 2 12.614 4.212 15 7 15s5-2.386 5-5.267c0-1.05-.368-2.169-.867-3.212-.671-1.402-1.616-2.744-2.385-3.727a28.458 28.458 0 0 0-1.354-1.605l-.022-.023-.006-.007-.002-.001L7 1.5zm0 0-.364-.343L7 1.5zm-.016.766L7 2.247l.016.019c.24.274.572.667.944 1.144.611.781 1.32 1.776 1.901 2.827H4.14c.58-1.051 1.29-2.046 1.9-2.827.373-.477.706-.87.945-1.144zM3 9.733c0-.755.244-1.612.638-2.496h6.724c.395.884.638 1.741.638 2.496C11 12.117 9.182 14 7 14s-4-1.883-4-4.267z" />
                    </svg>
                    <span class="ms-1"> <strong>{{ data[0]['consolidated_weather'][0]['humidity'] }}% </strong></span>
                  </div>
                  <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-sun"
                      viewBox="0 0 16 16">
                      <path
                        d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6zm0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z" />
                    </svg>
                    <span class="ms-1"><strong>{{ data[0]['consolidated_weather'][0]['air_pressure'] }} hPa </strong></span>
                  </div>
                </div>
  
                <div class="ml-auto">
                  <img src="{{today_icon}}" width="69px">
                </div>
              </div>
  
            </div>
          </div>
  
        </div>
      </div>
      <br><br><br>
      <h3>Next 5 days forecast</h3>
      <hr>
      <div class="card-group">
        {% for next_day in next_days %}
      <div class="card text-center" style="width: 18rem;">
        <div class="card-body">
          <h4 class="card-title">{{ day_str[loop.index] }}</h4>
          <p class="card-text"><img src="{{ icons[loop.index0] }}" width="58px"></p>
          <h4 class="card-text">{{ next_day['the_temp'] | int }}°C</h4>
        </div>
      </div>
      {% endfor %}
      </div>
  
    </div>
  
  </section>
{% endblock content %}